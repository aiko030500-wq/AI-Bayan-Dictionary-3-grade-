<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Bayan Dictionary 3 gr ‚Äì Unit 4</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg: #e8f5e9;
      --card: #ffffff;
      --accent: #43a047;
      --accent-soft: #a5d6a7;
      --text: #1b5e20;
      --weather: #66bb6a;
      --clothes: #81c784;
      --months: #9ccc65;
      --seasons: #26a69a;
      --danger: #e53935;
      --success: #43a047;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
    }

    body {
      background: radial-gradient(circle at top, #c8e6c9 0, #e8f5e9 40%, #ffffff 100%);
      color: var(--text);
      padding: 16px;
    }

    /* LOGIN */

    .login-wrap {
      max-width: 400px;
      margin: 40px auto;
      background: #f1f8e9;
      border-radius: 18px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
      padding: 20px 18px 22px;
      text-align: center;
      border: 2px solid var(--accent-soft);
    }

    .login-title {
      font-size: 1.7rem;
      font-weight: 800;
      margin-bottom: 4px;
    }

    .login-sub {
      font-size: 0.9rem;
      color: #33691e;
      margin-bottom: 14px;
    }

    .login-field {
      text-align: left;
      margin-bottom: 10px;
    }

    .login-field label {
      font-size: 0.85rem;
      font-weight: 600;
      color: #2e7d32;
      display: block;
      margin-bottom: 4px;
    }

    .login-field input {
      width: 100%;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid #a5d6a7;
      font-size: 0.9rem;
      outline: none;
    }

    .login-help {
      font-size: 0.78rem;
      color: #558b2f;
      margin-top: 3px;
    }

    .login-btn {
      margin-top: 10px;
      width: 100%;
      padding: 8px 0;
      border-radius: 999px;
      border: none;
      background: var(--accent);
      color: #fff;
      font-weight: 700;
      font-size: 0.95rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(56, 142, 60, 0.4);
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }

    .login-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(56, 142, 60, 0.5);
    }

    .login-error {
      margin-top: 8px;
      font-size: 0.8rem;
      color: var(--danger);
      min-height: 1em;
    }

    /* APP */

    .app {
      max-width: 980px;
      margin: 0 auto;
      background: #f1f8e9;
      border-radius: 18px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
      padding: 18px 16px 80px;
      display: none;
      border: 2px solid var(--accent-soft);
    }

    .app-header {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 6px;
    }

    .logo-title {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-circle {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #fff, #66bb6a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      font-size: 0.9rem;
      color: #1b5e20;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    }

    h1 {
      font-size: 1.7rem;
      margin-bottom: 2px;
    }

    .subtitle {
      font-size: 0.9rem;
      color: #33691e;
    }

    .user-right {
      text-align: right;
    }

    .user-pill {
      font-size: 0.8rem;
      padding: 4px 10px;
      border-radius: 999px;
      background: #c5e1a5;
      color: #1b5e20;
      font-weight: 600;
      display: inline-block;
      margin-bottom: 4px;
    }

    .teacher-badge {
      background: #2e7d32;
      color: #e8f5e9;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 700;
      display: none;
    }

    .top-actions {
      margin-top: 4px;
      text-align: right;
    }

    .print-btn {
      border-radius: 999px;
      border: none;
      padding: 5px 12px;
      font-size: 0.8rem;
      cursor: pointer;
      background: #2e7d32;
      color: #e8f5e9;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    /* Tabs */

    .tabs {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin: 12px 0;
      flex-wrap: wrap;
    }

    .tab-btn {
      border-radius: 999px;
      border: none;
      padding: 6px 16px;
      font-size: 0.9rem;
      cursor: pointer;
      background: #c5e1a5;
      color: #1b5e20;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      transition: 0.12s ease;
    }

    .tab-btn.active {
      background: #2e7d32;
      color: #e8f5e9;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
      margin-bottom: 14px;
    }

    .filter-btn {
      border: none;
      border-radius: 999px;
      padding: 5px 13px;
      font-size: 0.8rem;
      cursor: pointer;
      background: #ffffff;
      color: #33691e;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
      display: flex;
      align-items: center;
      gap: 6px;
      transition: 0.1s ease;
    }

    .filter-btn span.icon {
      font-size: 1rem;
    }

    .filter-btn.active {
      background: var(--accent);
      color: #ffffff;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.16);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
    }

    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 10px 10px 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.18);
    }

    .card-category-bar {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 6px;
      border-radius: 16px 16px 0 0;
    }

    .card-emoji {
      font-size: 2rem;
      margin-top: 8px;
      margin-bottom: 4px;
    }

    .card-word {
      font-weight: 700;
      font-size: 1.05rem;
      margin-bottom: 2px;
    }

    .card-trans {
      font-size: 0.85rem;
      color: #33691e;
      margin-bottom: 2px;
    }

    .card-example {
      font-size: 0.75rem;
      color: #558b2f;
      min-height: 1.2em;
    }

    .card-footer {
      margin-top: 4px;
      font-size: 0.7rem;
      color: #9e9d24;
    }

    .hint {
      margin-top: 8px;
      text-align: center;
      font-size: 0.8rem;
      color: #607d8b;
    }

    /* QUIZ */

    .quiz-wrap {
      display: none;
      margin-top: 6px;
    }

    .quiz-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 16px;
      background: #e8f5e9;
      border-radius: 16px;
      padding: 14px;
      box-shadow: inset 0 0 0 1px rgba(56, 142, 60, 0.18);
    }

    .quiz-question {
      min-width: 230px;
      text-align: center;
    }

    .quiz-emoji {
      font-size: 3rem;
      margin-bottom: 4px;
    }

    .quiz-rus {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .quiz-cat {
      font-size: 0.8rem;
      color: #558b2f;
    }

    .quiz-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 8px;
      flex: 1;
      max-width: 420px;
    }

    .quiz-btn {
      border-radius: 999px;
      border: none;
      padding: 8px 12px;
      font-size: 0.9rem;
      cursor: pointer;
      background: #ffffff;
      color: #1b5e20;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
      transition: 0.1s ease;
    }

    .quiz-btn.correct {
      background: var(--success);
      color: #fff;
    }

    .quiz-btn.wrong {
      background: var(--danger);
      color: #fff;
    }

    .quiz-bottom {
      margin-top: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.85rem;
      color: #455a64;
      flex-wrap: wrap;
      gap: 6px;
    }

    .next-btn {
      border-radius: 999px;
      border: none;
      padding: 6px 14px;
      font-size: 0.85rem;
      cursor: pointer;
      background: #2e7d32;
      color: #e8f5e9;
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
    }

    .score {
      font-weight: 600;
    }

    /* Teacher journal (demo) */

    .teacher-journal {
      display: none;
      margin: 10px 0 12px;
      padding: 8px 10px;
      border-radius: 12px;
      background: #e0f2f1;
      font-size: 0.8rem;
      color: #004d40;
      box-shadow: inset 0 0 0 1px rgba(0, 77, 64, 0.2);
    }

    .teacher-journal table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 6px;
    }

    .teacher-journal th,
    .teacher-journal td {
      font-size: 0.78rem;
      border-bottom: 1px solid rgba(0, 77, 64, 0.2);
      padding: 3px 4px;
      text-align: left;
    }

    .teacher-journal th {
      font-weight: 700;
    }

    /* Worksheets */

    .works-wrap {
      display: none;
      margin-top: 6px;
    }

    .worksheet-box {
      background: #ffffff;
      border-radius: 16px;
      padding: 12px 14px;
      margin-bottom: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.12);
      border: 1px dashed #a5d6a7;
    }

    .worksheet-title {
      font-weight: 700;
      margin-bottom: 6px;
      font-size: 0.95rem;
    }

    .worksheet-sub {
      font-size: 0.8rem;
      color: #607d8b;
      margin-bottom: 5px;
    }

    .ws-two-cols {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .ws-col {
      flex: 1 1 220px;
      font-size: 0.9rem;
    }

    .ws-item {
      margin-bottom: 3px;
    }

    .ws-grid {
      font-family: "Courier New", monospace;
      background: #f1f8e9;
      padding: 6px;
      border-radius: 8px;
      display: inline-block;
      margin-top: 4px;
      font-size: 0.86rem;
    }

    /* AI Bayan chat */

    .chat-badge {
      position: fixed;
      right: 16px;
      bottom: 16px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #ffffff, #66bb6a);
      display: none;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 14px rgba(0, 0, 0, 0.35);
      cursor: pointer;
      z-index: 20;
    }

    .chat-badge span {
      font-size: 0.7rem;
      text-align: center;
      font-weight: 800;
      color: #1b5e20;
      letter-spacing: 0.03em;
    }

    .chat-window {
      position: fixed;
      right: 16px;
      bottom: 80px;
      width: 280px;
      max-height: 360px;
      background: #e8f5e9;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.35);
      display: none;
      flex-direction: column;
      overflow: hidden;
      z-index: 20;
      border: 2px solid #a5d6a7;
    }

    .chat-header {
      padding: 8px 10px;
      background: #2e7d32;
      color: #e8f5e9;
      font-size: 0.85rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-header span {
      font-weight: 700;
    }

    .chat-close {
      cursor: pointer;
      font-weight: 700;
    }

    .chat-body {
      padding: 8px;
      overflow-y: auto;
      flex: 1;
      font-size: 0.78rem;
      display: flex;
      flex-direction: column;
    }

    .chat-msg {
      margin-bottom: 6px;
      padding: 5px 8px;
      border-radius: 10px;
      max-width: 90%;
    }

    .chat-msg.ai {
      background: #c8e6c9;
      align-self: flex-start;
    }

    .chat-msg.user {
      background: #fff9c4;
      align-self: flex-end;
    }

    .chat-input {
      padding: 6px;
      background: #f1f8e9;
      display: flex;
      gap: 4px;
    }

    .chat-input input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid #a5d6a7;
      padding: 5px 8px;
      font-size: 0.78rem;
    }

    .chat-input button {
      border-radius: 999px;
      border: none;
      background: #2e7d32;
      color: #e8f5e9;
      padding: 5px 9px;
      font-size: 0.78rem;
      cursor: pointer;
    }

    @media (max-width: 600px) {
      .app {
        padding: 12px 10px 80px;
      }
      h1 {
        font-size: 1.4rem;
      }
      .chat-window {
        right: 8px;
        width: 92%;
      }
    }
  </style>
</head>
<body>
  <!-- LOGIN -->
  <div class="login-wrap" id="login-wrap">
    <div class="login-title">AI Bayan dictionary 3 gr</div>
    <div class="login-sub">Family and Friends 3 ‚Ä¢ Unit 4 ‚Ä¢ 3E</div>

    <div class="login-field">
      <label for="login-name">–õ–æ–≥–∏–Ω —É—á–µ–Ω–∏–∫–∞ / —É—á–∏—Ç–µ–ª—è</label>
      <input id="login-name" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: 3E S1" />
      <div class="login-help">
        –£—á–µ–Ω–∏–∫–∏: <b>3E S1‚Äì3E S15</b><br />
        –£—á–∏—Ç–µ–ª—å: –ª—é–±–æ–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, <b>Teacher</b>)
      </div>
    </div>

    <div class="login-field">
      <label for="login-pin">PIN –∫–æ–¥</label>
      <input id="login-pin" type="password" placeholder="2844 –∏–ª–∏ 3244" />
      <div class="login-help">
        –£—á–µ–Ω–∏–∫–∏: <b>2844</b> ‚Ä¢ –£—á–∏—Ç–µ–ª—å—Å–∫–∏–π –∂—É—Ä–Ω–∞–ª: <b>3244</b>
      </div>
    </div>

    <button class="login-btn" id="login-btn">–í–æ–π—Ç–∏</button>
    <div class="login-error" id="login-error"></div>
  </div>

  <!-- APP -->
  <div class="app" id="app">
    <div class="app-header">
      <div class="logo-title">
        <div class="logo-circle">
          AI<br />B
        </div>
        <div>
          <h1>Unit 4 ‚Äì Weather & Clothes</h1>
          <div class="subtitle">AI Bayan dictionary 3 gr ‚Ä¢ Family and Friends 3</div>
        </div>
      </div>
      <div class="user-right">
        <div class="user-pill" id="user-pill"></div>
        <div class="teacher-badge" id="teacher-badge">Teacher Journal ‚Ä¢ PIN 3244</div>
        <div class="top-actions">
          <button class="print-btn" onclick="window.print()">Print / –ü–µ—á–∞—Ç—å</button>
        </div>
      </div>
    </div>

    <div class="teacher-journal" id="teacher-journal">
      <b>Teacher Journal (demo)</b>
      <p>–ö–ª–∞—Å—Å: 3E ‚Ä¢ –£—á–µ–Ω–∏–∫–∏ 3E S1‚Äì3E S15. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∂—É—Ä–Ω–∞–ª –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏
         —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ Quiz (—Å–µ–π—á–∞—Å –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫).</p>
      <table>
        <thead>
          <tr><th>–£—á–µ–Ω–∏–∫</th><th>–ü–æ—Å–ª–µ–¥–Ω–∏–π Quiz score</th></tr>
        </thead>
        <tbody id="journal-body"></tbody>
      </table>
    </div>

    <div class="tabs">
      <button class="tab-btn active" data-mode="dict">Dictionary</button>
      <button class="tab-btn" data-mode="quiz">Quiz</button>
      <button class="tab-btn" data-mode="works">Worksheets</button>
    </div>

    <!-- DICTIONARY -->
    <div id="dict-mode">
      <div class="filters">
        <button class="filter-btn active" data-filter="all">
          <span class="icon">‚≠ê</span> –í—Å–µ
        </button>
        <button class="filter-btn" data-filter="weather">
          <span class="icon">üå¶</span> –ü–æ–≥–æ–¥–∞
        </button>
        <button class="filter-btn" data-filter="clothes">
          <span class="icon">üß•</span> –û–¥–µ–∂–¥–∞
        </button>
        <button class="filter-btn" data-filter="months">
          <span class="icon">üìÖ</span> –ú–µ—Å—è—Ü—ã
        </button>
        <button class="filter-btn" data-filter="seasons">
          <span class="icon">üåç</span> –í—Ä–µ–º–µ–Ω–∞ –≥–æ–¥–∞
        </button>
      </div>

      <div id="cards" class="grid"></div>

      <p class="hint">
        üëÜ –ö–∞—Ä—Ç–æ—á–∫–∞: <b>–∞–Ω–≥–ª–∏–π—Å–∫–æ–µ —Å–ª–æ–≤–æ + —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥</b>. –ù–∞–∂–º–∏, —á—Ç–æ–±—ã
        —É–≤–∏–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
      </p>
    </div>

    <!-- QUIZ -->
    <div id="quiz-mode" class="quiz-wrap">
      <div class="quiz-row">
        <div class="quiz-question">
          <div class="quiz-emoji" id="quiz-emoji">üå¶</div>
          <div class="quiz-rus" id="quiz-rus">–¥–æ–∂–¥–ª–∏–≤–æ</div>
          <div class="quiz-cat" id="quiz-cat">–ü–æ–≥–æ–¥–∞ ‚Ä¢ –≤—ã–±–µ—Ä–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ —Å–ª–æ–≤–æ</div>
        </div>

        <div class="quiz-options" id="quiz-options"></div>
      </div>

      <div class="quiz-bottom">
        <div>
          –û—á–∫–∏: <span class="score" id="score">0</span> ‚Ä¢
          –í–æ–ø—Ä–æ—Å–æ–≤: <span id="questions">0</span>
        </div>
        <button class="next-btn" id="next-btn">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
      </div>
      <p class="hint">
        Quiz: –ø–æ–∫–∞–∑–∞–Ω —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –∏ emoji. –í—ã–±–µ—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ —Å–ª–æ–≤–æ.
      </p>
    </div>

    <!-- WORKSHEETS -->
    <div id="works-mode" class="works-wrap">
      <div class="worksheet-box">
        <div class="worksheet-title">Worksheet 1 ‚Äì Write the missing letters</div>
        <div class="worksheet-sub">Unit 4 ‚Ä¢ Weather & Clothes ‚Ä¢ —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –∏ –≤–ø–∏—Å–∞—Ç—å –±—É–∫–≤—ã</div>

        <div class="ws-two-cols">
          <div class="ws-col">
            <b>Weather</b><br />
            <div class="ws-item">1) s _ n n y</div>
            <div class="ws-item">2) r _ i n y</div>
            <div class="ws-item">3) w i n _ y</div>
            <div class="ws-item">4) s n _ w y</div>
            <div class="ws-item">5) h _ t</div>
            <div class="ws-item">6) c _ l d</div>
          </div>
          <div class="ws-col">
            <b>Clothes</b><br />
            <div class="ws-item">7) b _ o t s</div>
            <div class="ws-item">8) c _ a t</div>
            <div class="ws-item">9) g l _ v e s</div>
            <div class="ws-item">10) h _ t</div>
            <div class="ws-item">11) s _ a r f</div>
            <div class="ws-item">12) s k _ r t</div>
          </div>
        </div>
      </div>

      <div class="worksheet-box">
        <div class="worksheet-title">Worksheet 2 ‚Äì Weather Crossword</div>
        <div class="worksheet-sub">–í–ø–∏—Å–∞—Ç—å —Å–ª–æ–≤–∞: sunny, rainy, windy, snowy, hot, cold</div>

        <div class="ws-grid">
          <!-- –ø—Ä–æ—Å—Ç–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è —Å–µ—Ç–∫–∞ –¥–ª—è –ø–µ—á–∞—Ç–∏ -->
          1 2 3 4 5 6 7<br/>
          S U N N Y _ _   (1 across)<br/>
          _ _ _ _ _       (2 down: RAINY)<br/>
          _ _ _ _ _       (3 down: WINDY)<br/>
          _ _ _ _ _       (4 across: SNOWY)<br/>
          _ _ _           (5 across: HOT)<br/>
          _ _ _ _         (6 down: COLD)
        </div>
        <p class="worksheet-sub" style="margin-top:6px;">
          –ü—Ä–∏ –ø–µ—á–∞—Ç–∏ –¥–µ—Ç–∏ –º–æ–≥—É—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å –Ω–æ–º–µ—Ä–∞ –∏ –≤–ø–∏—Å–∞—Ç—å —Å–ª–æ–≤–∞ –ø–æ–≤–µ—Ä—Ö —Å–µ—Ç–∫–∏.
        </p>
      </div>

      <p class="hint">
        –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É <b>Print</b> –≤–≤–µ—Ä—Ö—É, —á—Ç–æ–±—ã —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å —ç—Ç–∏ worksheets –Ω–∞ A4.
      </p>
    </div>
  </div>

  <!-- AI BAYAN CHAT -->
  <div class="chat-badge" id="chat-badge">
    <span>AI<br/>Bayan</span>
  </div>

  <div class="chat-window" id="chat-window">
    <div class="chat-header">
      <span>AI Bayan ‚Ä¢ helper</span>
      <span class="chat-close" id="chat-close">√ó</span>
    </div>
    <div class="chat-body" id="chat-body">
      <div class="chat-msg ai">
        –ü—Ä–∏–≤–µ—Ç! –Ø AI Bayan ü§ñüíö. –°–ø—Ä–æ—Å–∏ –º–µ–Ω—è —Å–ª–æ–≤–æ –ø–æ Unit 4 –∏–ª–∏ –Ω–∞–ø–∏—à–∏
        –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ ‚Äî —è –ø–æ–º–æ–≥—É.
      </div>
    </div>
    <div class="chat-input">
      <input id="chat-input" placeholder="–ù–∞–ø–∏—à–∏ –ø–æ-–∞–Ω–≥–ª. –∏–ª–∏ –ø–æ-—Ä—É—Å—Å–∫–∏..." />
      <button id="chat-send">OK</button>
    </div>
  </div>

  <script>
    /* ===== DATA ===== */
    const words = [
      // WEATHER
      { word: "sunny", trans: "—Å–æ–ª–Ω–µ—á–Ω–æ", example: "It is sunny today.", category: "weather", emoji: "‚òÄÔ∏è" },
      { word: "rainy", trans: "–¥–æ–∂–¥–ª–∏–≤–æ", example: "It is rainy. Take an umbrella.", category: "weather", emoji: "üåßÔ∏è" },
      { word: "windy", trans: "–≤–µ—Ç—Ä–µ–Ω–æ", example: "It is windy. Wear a jacket.", category: "weather", emoji: "üí®" },
      { word: "snowy", trans: "—Å–Ω–µ–∂–Ω–æ", example: "It is snowy. Let's make a snowman.", category: "weather", emoji: "‚ùÑÔ∏è" },
      { word: "hot", trans: "–∂–∞—Ä–∫–æ", example: "It is hot in July.", category: "weather", emoji: "ü•µ" },
      { word: "cold", trans: "—Ö–æ–ª–æ–¥–Ω–æ", example: "It is cold in winter.", category: "weather", emoji: "ü•∂" },

      // CLOTHES
      { word: "boots", trans: "—Å–∞–ø–æ–≥–∏", example: "I wear boots when it is snowy.", category: "clothes", emoji: "üë¢" },
      { word: "coat", trans: "–ø–∞–ª—å—Ç–æ", example: "Put on your coat. It is cold.", category: "clothes", emoji: "üß•" },
      { word: "gloves", trans: "–ø–µ—Ä—á–∞—Ç–∫–∏", example: "She has red gloves.", category: "clothes", emoji: "üß§" },
      { word: "hat", trans: "—à–∞–ø–∫–∞, —à–ª—è–ø–∞", example: "This hat is yellow.", category: "clothes", emoji: "üé©" },
      { word: "jeans", trans: "–¥–∂–∏–Ω—Å—ã", example: "He likes blue jeans.", category: "clothes", emoji: "üëñ" },
      { word: "scarf", trans: "—à–∞—Ä—Ñ", example: "I have a long scarf.", category: "clothes", emoji: "üß£" },
      { word: "shirt", trans: "—Ä—É–±–∞—à–∫–∞", example: "My shirt is green.", category: "clothes", emoji: "üëï" },
      { word: "skirt", trans: "—é–±–∫–∞", example: "Her skirt is pink.", category: "clothes", emoji: "üëó" },
      { word: "sun hat", trans: "–ø–∞–Ω–∞–º–∞, —à–ª—è–ø–∞ –æ—Ç —Å–æ–ª–Ω—Ü–∞", example: "Wear your sun hat. It is sunny.", category: "clothes", emoji: "üëí" },

      // MONTHS
      { word: "January", trans: "—è–Ω–≤–∞—Ä—å", example: "January is a cold month.", category: "months", emoji: "‚ùÑÔ∏è" },
      { word: "February", trans: "—Ñ–µ–≤—Ä–∞–ª—å", example: "It is still winter in February.", category: "months", emoji: "‚òÉÔ∏è" },
      { word: "March", trans: "–º–∞—Ä—Ç", example: "March is the first month of spring.", category: "months", emoji: "üå±" },
      { word: "April", trans: "–∞–ø—Ä–µ–ª—å", example: "It is often rainy in April.", category: "months", emoji: "üåßÔ∏è" },
      { word: "May", trans: "–º–∞–π", example: "We have many flowers in May.", category: "months", emoji: "üå∑" },
      { word: "June", trans: "–∏—é–Ω—å", example: "School finishes in June.", category: "months", emoji: "üéì" },
      { word: "July", trans: "–∏—é–ª—å", example: "It is very hot in July.", category: "months", emoji: "‚òÄÔ∏è" },
      { word: "August", trans: "–∞–≤–≥—É—Å—Ç", example: "We go on holiday in August.", category: "months", emoji: "üèñÔ∏è" },
      { word: "September", trans: "—Å–µ–Ω—Ç—è–±—Ä—å", example: "School starts in September.", category: "months", emoji: "üìö" },
      { word: "October", trans: "–æ–∫—Ç—è–±—Ä—å", example: "Leaves fall in October.", category: "months", emoji: "üçÅ" },
      { word: "November", trans: "–Ω–æ—è–±—Ä—å", example: "It is usually cold in November.", category: "months", emoji: "üå´Ô∏è" },
      { word: "December", trans: "–¥–µ–∫–∞–±—Ä—å", example: "We celebrate New Year in December.", category: "months", emoji: "üéÑ" },

      // SEASONS
      { word: "spring", trans: "–≤–µ—Å–Ω–∞", example: "Flowers grow in spring.", category: "seasons", emoji: "üå∏" },
      { word: "summer", trans: "–ª–µ—Ç–æ", example: "It is hot in summer.", category: "seasons", emoji: "üåû" },
      { word: "autumn", trans: "–æ—Å–µ–Ω—å", example: "Leaves are orange in autumn.", category: "seasons", emoji: "üçÇ" },
      { word: "winter", trans: "–∑–∏–º–∞", example: "It is snowy in winter.", category: "seasons", emoji: "‚õÑ" },
      { word: "season", trans: "–≤—Ä–µ–º—è –≥–æ–¥–∞", example: "Summer is my favourite season.", category: "seasons", emoji: "üóìÔ∏è" },
    ];

    /* ===== LOGIN ===== */
    const loginWrap = document.getElementById("login-wrap");
    const loginBtn = document.getElementById("login-btn");
    const loginError = document.getElementById("login-error");
    const loginName = document.getElementById("login-name");
    const loginPin = document.getElementById("login-pin");
    const app = document.getElementById("app");
    const userPill = document.getElementById("user-pill");
    const teacherBadge = document.getElementById("teacher-badge");
    const teacherJournal = document.getElementById("teacher-journal");
    const journalBody = document.getElementById("journal-body");
    const chatBadge = document.getElementById("chat-badge");

    const studentPin = "2844";
    const teacherPin = "3244";

    function isStudentLogin(name) {
      if (!name) return false;
      const trimmed = name.trim().toUpperCase();
      if (!trimmed.startsWith("3E ")) return false;
      const part = trimmed.split(" ")[1];
      if (!part || !part.startsWith("S")) return false;
      const num = parseInt(part.slice(1), 10);
      return num >= 1 && num <= 15;
    }

    loginBtn.addEventListener("click", () => {
      const name = loginName.value.trim();
      const pin = loginPin.value.trim();
      loginError.textContent = "";

      if (!name || !pin) {
        loginError.textContent = "–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∏ PIN.";
        return;
      }

      if (pin === studentPin && isStudentLogin(name)) {
        loginWrap.style.display = "none";
        app.style.display = "block";
        chatBadge.style.display = "flex";
        userPill.textContent = `–£—á–µ–Ω–∏–∫: ${name} ‚Ä¢ PIN 2844`;
        teacherBadge.style.display = "none";
        teacherJournal.style.display = "none";
      } else if (pin === teacherPin) {
        loginWrap.style.display = "none";
        app.style.display = "block";
        chatBadge.style.display = "flex";
        userPill.textContent = `–£—á–∏—Ç–µ–ª—å: ${name}`;
        teacherBadge.style.display = "inline-block";
        teacherJournal.style.display = "block";
        fillJournalDemo();
      } else {
        loginError.textContent =
          "–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ PIN. –£—á–µ–Ω–∏–∫–∏: 3E S1‚ÄìS15 + 2844. –£—á–∏—Ç–µ–ª—å: –ª—é–±–æ–π –ª–æ–≥–∏–Ω + 3244.";
      }
    });

    function fillJournalDemo() {
      journalBody.innerHTML = "";
      for (let i = 1; i <= 15; i++) {
        const tr = document.createElement("tr");
        const tdName = document.createElement("td");
        const tdScore = document.createElement("td");
        tdName.textContent = `3E S${i}`;
        tdScore.textContent = "‚Äî";
        tr.appendChild(tdName);
        tr.appendChild(tdScore);
        journalBody.appendChild(tr);
      }
    }

    /* ===== DICTIONARY ===== */
    const cardsContainer = document.getElementById("cards");
    const filterButtons = document.querySelectorAll(".filter-btn");
    const tabButtons = document.querySelectorAll(".tab-btn");
    const dictMode = document.getElementById("dict-mode");
    const quizMode = document.getElementById("quiz-mode");
    const worksMode = document.getElementById("works-mode");

    function categoryColor(cat) {
      switch (cat) {
        case "weather": return "var(--weather)";
        case "clothes": return "var(--clothes)";
        case "months": return "var(--months)";
        case "seasons": return "var(--seasons)";
        default: return "var(--accent)";
      }
    }

    function renderCards(filter = "all") {
      cardsContainer.innerHTML = "";
      words
        .filter(w => filter === "all" || w.category === filter)
        .forEach(item => {
          const card = document.createElement("div");
          card.className = "card";
          card.dataset.state = "front";

          const bar = document.createElement("div");
          bar.className = "card-category-bar";
          bar.style.background = categoryColor(item.category);

          const emoji = document.createElement("div");
          emoji.className = "card-emoji";
          emoji.textContent = item.emoji;

          const word = document.createElement("div");
          word.className = "card-word";
          word.textContent = item.word;

          const trans = document.createElement("div");
          trans.className = "card-trans";
          trans.textContent = item.trans;

          const example = document.createElement("div");
          example.className = "card-example";
          example.textContent = "";

          const footer = document.createElement("div");
          footer.className = "card-footer";
          footer.textContent = item.category.toUpperCase();

          card.appendChild(bar);
          card.appendChild(emoji);
          card.appendChild(word);
          card.appendChild(trans);
          card.appendChild(example);
          card.appendChild(footer);

          card.addEventListener("click", () => {
            if (card.dataset.state === "front") {
              example.textContent = item.example;
              card.dataset.state = "back";
            } else {
              example.textContent = "";
              card.dataset.state = "front";
            }
          });

          cardsContainer.appendChild(card);
        });
    }

    filterButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        filterButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        renderCards(btn.dataset.filter);
      });
    });

    renderCards("all");

    /* ===== TABS ===== */
    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        tabButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const mode = btn.dataset.mode;
        if (mode === "dict") {
          dictMode.style.display = "block";
          quizMode.style.display = "none";
          worksMode.style.display = "none";
        } else if (mode === "quiz") {
          dictMode.style.display = "none";
          quizMode.style.display = "block";
          worksMode.style.display = "none";
          newQuestion();
        } else {
          dictMode.style.display = "none";
          quizMode.style.display = "none";
          worksMode.style.display = "block";
        }
      });
    });

    /* ===== QUIZ ===== */
    const quizEmoji = document.getElementById("quiz-emoji");
    const quizRus = document.getElementById("quiz-rus");
    const quizCat = document.getElementById("quiz-cat");
    const quizOptions = document.getElementById("quiz-options");
    const nextBtn = document.getElementById("next-btn");
    const scoreEl = document.getElementById("score");
    const questionsEl = document.getElementById("questions");

    let currentAnswer = null;
    let answered = false;
    let score = 0;
    let questions = 0;

    function shuffle(arr) {
      return arr
        .map(x => ({ x, r: Math.random() }))
        .sort((a, b) => a.r - b.r)
        .map(o => o.x);
    }

    function newQuestion() {
      answered = false;
      quizOptions.innerHTML = "";

      const pool = words;
      const correct = pool[Math.floor(Math.random() * pool.length)];
      currentAnswer = correct.word;
      questions++;
      questionsEl.textContent = questions;

      quizEmoji.textContent = correct.emoji;
      quizRus.textContent = correct.trans;
      const catLabel = {
        weather: "–ü–æ–≥–æ–¥–∞",
        clothes: "–û–¥–µ–∂–¥–∞",
        months: "–ú–µ—Å—è—Ü—ã",
        seasons: "–í—Ä–µ–º–µ–Ω–∞ –≥–æ–¥–∞",
      }[correct.category] || "";
      quizCat.textContent = catLabel + " ‚Ä¢ –≤—ã–±–µ—Ä–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ —Å–ª–æ–≤–æ";

      const others = shuffle(pool.filter(w => w.word !== correct.word)).slice(0, 3);
      const options = shuffle([correct, ...others]);

      options.forEach(opt => {
        const btn = document.createElement("button");
        btn.className = "quiz-btn";
        btn.textContent = opt.word;
        btn.addEventListener("click", () => handleAnswer(btn, opt.word));
        quizOptions.appendChild(btn);
      });
    }

    function handleAnswer(btn, word) {
      if (answered) return;
      answered = true;
      const buttons = quizOptions.querySelectorAll(".quiz-btn");
      buttons.forEach(b => {
        b.disabled = true;
        if (b.textContent === currentAnswer) {
          b.classList.add("correct");
        }
      });
      if (word === currentAnswer) {
        score++;
        scoreEl.textContent = score;
      } else {
        btn.classList.add("wrong");
      }
    }

    nextBtn.addEventListener("click", () => {
      newQuestion();
    });

    /* ===== AI BAYAN CHAT (–ø—Ä–æ—Å—Ç–∞—è –¥–µ–º–æ) ===== */
    const chatWindow = document.getElementById("chat-window");
    const chatBody = document.getElementById("chat-body");
    const chatInput = document.getElementById("chat-input");
    const chatSend = document.getElementById("chat-send");
    const chatClose = document.getElementById("chat-close");

    function addChatMessage(text, who = "ai") {
      const div = document.createElement("div");
      div.className = "chat-msg " + who;
      div.textContent = text;
      chatBody.appendChild(div);
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function simpleAiAnswer(msg) {
      const lower = msg.toLowerCase();
      const w = words.find(
        w =>
          lower.includes(w.word.toLowerCase()) ||
          lower.includes(w.trans.toLowerCase())
      );
      if (w) {
        return `–°–ª–æ–≤–æ "${w.word}" = "${w.trans}". –ü—Ä–∏–º–µ—Ä: ${w.example}`;
      }
      if (lower.includes("hello") || lower.includes("hi")) {
        return "Hello! –î–∞–≤–∞–π –ø–æ—Ç—Ä–µ–Ω–∏—Ä—É–µ–º —Å–ª–æ–≤–∞ –ø–æ Unit 4: —Å–ø—Ä–æ—Å–∏ –º–µ–Ω—è –ø—Ä–æ –ª—é–±–æ–µ —Å–ª–æ–≤–æ (sunny, boots, January...).";
      }
      if (lower.includes("quiz")) {
        return "–ß—Ç–æ–±—ã –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è, –æ—Ç–∫—Ä–æ–π –≤–∫–ª–∞–¥–∫—É QUIZ –∏ –æ—Ç–≤–µ—á–∞–π –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã üôÇ";
      }
      return "–Ø –ø–æ–∫–∞ –º–∞–ª–µ–Ω—å–∫–∞—è AI Bayan üòä –ü–æ–ø—Ä–æ–±—É–π –Ω–∞–ø–∏—Å–∞—Ç—å –æ–¥–Ω–æ —Å–ª–æ–≤–æ –∏–∑ Unit 4 –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π –≤–æ–ø—Ä–æ—Å –ø–æ –ª–µ–∫—Å–∏–∫–µ.";
    }

    chatBadge.addEventListener("click", () => {
      chatWindow.style.display = "flex";
    });

    chatClose.addEventListener("click", () => {
      chatWindow.style.display = "none";
    });

    chatSend.addEventListener("click", () => {
      const text = chatInput.value.trim();
      if (!text) return;
      addChatMessage(text, "user");
      chatInput.value = "";
      const answer = simpleAiAnswer(text);
      setTimeout(() => addChatMessage(answer, "ai"), 300);
    });

    chatInput.addEventListener("keydown", e => {
      if (e.key === "Enter") chatSend.click();
    });
  </script>
</body>
</html>
